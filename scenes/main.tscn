[gd_scene load_steps=49 format=3 uid="uid://dlypsuxn3noka"]

[ext_resource type="Script" path="res://scripts/camera.gd" id="1_473u7"]
[ext_resource type="Shader" path="res://shaders/starry_sky.gdshader" id="1_qur6l"]
[ext_resource type="Script" path="res://scripts/game_manager.gd" id="1_xhrch"]
[ext_resource type="PackedScene" uid="uid://mng8q3q44jxx" path="res://assets/tv/TV3D.tscn" id="2_pv8vt"]
[ext_resource type="PackedScene" uid="uid://c22n6icpny0xs" path="res://assets/switch_board/SwitchBoard3D.tscn" id="6_dibri"]
[ext_resource type="PackedScene" uid="uid://c6begrofkk621" path="res://assets/game_over/game_over.tscn" id="6_rg65t"]
[ext_resource type="PackedScene" uid="uid://b41kfcvyxm41" path="res://assets/radar/radar3D.tscn" id="7_svoui"]
[ext_resource type="PackedScene" uid="uid://dfcp3tpbjcnh6" path="res://assets/game_over/game_win_scene.tscn" id="8_v6rgg"]
[ext_resource type="PackedScene" uid="uid://b7nsa5i18irpp" path="res://assets/steering_wheel/steering_wheel.tscn" id="9_16cqi"]
[ext_resource type="PackedScene" uid="uid://di5m7q1dn3fnr" path="res://assets/emergency_button/EmergencyButton.tscn" id="10_4wdnr"]
[ext_resource type="PackedScene" uid="uid://34brr0liwy6h" path="res://assets/pressure_meter/PressureMeter.tscn" id="10_c6tiw"]
[ext_resource type="PackedScene" uid="uid://4ig533l63s52" path="res://assets/static/wiredecoration variation2.fbx" id="11_2og37"]
[ext_resource type="PackedScene" uid="uid://cfixw202boyp3" path="res://assets/static/shel&table.fbx" id="11_v3bio"]
[ext_resource type="PackedScene" uid="uid://c5feks1b71nmw" path="res://assets/static/wiredecoration.fbx" id="12_esay2"]
[ext_resource type="PackedScene" uid="uid://cssp4amv7nb6k" path="res://assets/depth_meter/depth_meter.tscn" id="13_drp40"]
[ext_resource type="PackedScene" uid="uid://dnoj2me3x0o86" path="res://assets/radio/radio.tscn" id="13_ix7dp"]
[ext_resource type="PackedScene" uid="uid://cnpsy8ld4gjym" path="res://assets/static/sticky_notes/paper.fbx" id="15_7yk1y"]
[ext_resource type="PackedScene" uid="uid://cxtomaylbqc2p" path="res://assets/static/pipes/n_pipe.tscn" id="15_aupjh"]
[ext_resource type="PackedScene" uid="uid://rv0y5e6n24pw" path="res://assets/static/pipes/h_pipe.tscn" id="15_hgri2"]
[ext_resource type="PackedScene" uid="uid://dll7ino3nv61e" path="res://assets/static/window/window.tscn" id="16_ja2uo"]
[ext_resource type="PackedScene" uid="uid://edsgu6xwdq5w" path="res://assets/static/sticky_notes/stickynote blue.fbx" id="16_lxjki"]
[ext_resource type="FontFile" uid="uid://cyjp3apxuvr2b" path="res://assets/fonts/DMSerifDisplay-Regular.ttf" id="17_4vb2h"]
[ext_resource type="PackedScene" uid="uid://cc3wurphdwbqc" path="res://assets/static/sticky_notes/stickynote yellow.fbx" id="17_tvvgt"]
[ext_resource type="Script" path="res://scripts/cursor_manager.gd" id="20_rgvsj"]
[ext_resource type="Texture2D" uid="uid://dybc3d8bb6a56" path="res://sprites/cursor/cursor.png" id="21_5jwbr"]
[ext_resource type="PackedScene" uid="uid://cyt1e1l4u5a87" path="res://assets/fish/yellow/yellow_fish_scene.tscn" id="21_qulxd"]
[ext_resource type="Texture2D" uid="uid://cc84n2usdk8u5" path="res://sprites/cursor/cursor_grab.png" id="22_cxslk"]
[ext_resource type="PackedScene" uid="uid://cy36uowpy61dg" path="res://assets/static/lights/lamp/lamp.tscn" id="22_mta71"]
[ext_resource type="PackedScene" uid="uid://ckw7iy5cnjoqj" path="res://assets/static/pipes/pipe L long.fbx" id="23_b33d6"]
[ext_resource type="PackedScene" uid="uid://bbcjpx1xwc0q0" path="res://assets/fish/green/green_fish.tscn" id="23_qqgto"]
[ext_resource type="PackedScene" uid="uid://cotnxrn8eoecs" path="res://scenes/main_menu.tscn" id="24_x7rpw"]
[ext_resource type="PackedScene" uid="uid://bo21n0wdmlx3t" path="res://assets/static/pipes/1 round pipe deco.fbx" id="26_1vd2q"]
[ext_resource type="PackedScene" uid="uid://bdw3snttahhae" path="res://assets/fish/pink/pink_fish.tscn" id="27_lpl25"]
[ext_resource type="PackedScene" uid="uid://dgy8add5qjxna" path="res://assets/fish/blue/blue_fish.tscn" id="30_0gewv"]
[ext_resource type="ArrayMesh" uid="uid://bvv2s585mr22e" path="res://assets/static/lights/new floor lights.obj" id="31_ynlvg"]
[ext_resource type="PackedScene" uid="uid://kirhftibu06p" path="res://assets/static/lights/top_light/top_light.tscn" id="32_lun3d"]

[sub_resource type="GDScript" id="GDScript_rq1lr"]
script/source = "extends Node3D

@onready var animations:AnimationPlayer = %AnimationPlayer

# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	
	#animations.play(\"swim\")
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ujg4p"]
shader = ExtResource("1_qur6l")
shader_parameter/sky_color = Color(0.0148744, 0, 0.315385, 1)
shader_parameter/star_base_color = Color(1.54018e-06, 0.276968, 0.382507, 1)
shader_parameter/star_hue_offset = 0.0
shader_parameter/star_intensity = 0.08
shader_parameter/star_twinkle_speed = 2.0
shader_parameter/star_twinkle_intensity = 0.84
shader_parameter/layer_scale = 20.0
shader_parameter/layer_scale_step = 10.0
shader_parameter/layers_count = 3

[sub_resource type="Sky" id="Sky_7hub4"]
sky_material = SubResource("ShaderMaterial_ujg4p")

[sub_resource type="Environment" id="Environment_h7fa3"]
background_mode = 2
sky = SubResource("Sky_7hub4")
glow_enabled = true
glow_intensity = 5.84
glow_strength = 1.27
glow_blend_mode = 0
glow_hdr_luminance_cap = 17.17

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_e2nei"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7ui2s"]
albedo_color = Color(0.498972, 0, 0.0545336, 1)
emission_enabled = true
emission = Color(1, 0, 0, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_j32nj"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="TextMesh" id="TextMesh_8heuw"]
material = SubResource("StandardMaterial3D_j32nj")
text = "Click this button if blip on radar"
font = ExtResource("17_4vb2h")
font_size = 8
autowrap_mode = 2
depth = 0.0
width = 50.0

[sub_resource type="TextMesh" id="TextMesh_4c7rb"]
material = SubResource("StandardMaterial3D_j32nj")
text = "Reach 0M to SURVIVE!"
font = ExtResource("17_4vb2h")
font_size = 12
autowrap_mode = 2
depth = 0.0
width = 50.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_wadwn"]
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="TextMesh" id="TextMesh_0wdyb"]
material = SubResource("StandardMaterial3D_wadwn")
text = "Pressure Relief Button"
font = ExtResource("17_4vb2h")
font_size = 11
autowrap_mode = 2
depth = 0.0
width = 40.0

[sub_resource type="TextMesh" id="TextMesh_qwoci"]
material = SubResource("StandardMaterial3D_wadwn")
text = "Pressure Meter!"
font = ExtResource("17_4vb2h")
font_size = 11
autowrap_mode = 2
depth = 0.0
width = 40.0

[node name="Main" type="Node3D"]
script = SubResource("GDScript_rq1lr")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_h7fa3")
camera_attributes = SubResource("CameraAttributesPractical_e2nei")

[node name="Managers" type="Node" parent="."]

[node name="Cursor Manager" type="Node" parent="Managers"]
script = ExtResource("20_rgvsj")
cursor = ExtResource("21_5jwbr")
cursor_down = ExtResource("22_cxslk")

[node name="GameManager" type="Node" parent="Managers" node_paths=PackedStringArray("list_components")]
script = ExtResource("1_xhrch")
list_components = [NodePath("../../TV"), NodePath("../../SteeringWheel"), NodePath("../../Radar"), NodePath("../../SwitchBoard3d"), NodePath("../../Radio"), NodePath("../../PressureMeter")]

[node name="Timer" type="Timer" parent="Managers/GameManager"]
unique_name_in_owner = true
wait_time = 3.0

[node name="Menu" type="Node" parent="."]

[node name="MainMenu" parent="Menu" instance=ExtResource("24_x7rpw")]
transform = Transform3D(3, 0, 0, 0, 3, 0, 0, 0, 3, -0.00648785, 2.23844, 5.94065)

[node name="GameOver" parent="Menu" instance=ExtResource("6_rg65t")]
unique_name_in_owner = true
transform = Transform3D(2.99303, 0, 0, 0, 2.97003, 0, 0, 0, 1, 0, 2.256, 5.95)

[node name="GameWin" parent="Menu" instance=ExtResource("8_v6rgg")]
unique_name_in_owner = true
transform = Transform3D(3.00208, 0, 0, 0, 2.93341, 0, 0, 0, 1, 0, 2.25411, 5.99712)

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.978386, 0.206785, 0, -0.206785, 0.978386, -0.0171624, 2.55786, 10.5688)
script = ExtResource("1_473u7")

[node name="Shell & Table" parent="." instance=ExtResource("11_v3bio")]

[node name="TV" parent="." instance=ExtResource("2_pv8vt")]
transform = Transform3D(0.62742, 0, -0.778682, 0, 1, 0, 0.778682, 0, 0.62742, 6.52922, -0.562336, 1.14999)

[node name="SwitchBoard3d" parent="." node_paths=PackedStringArray("switchArray") instance=ExtResource("6_dibri")]
transform = Transform3D(0.254974, -0.325547, -0.910499, 0.109373, 0.945288, -0.307357, 0.960741, -0.0212163, 0.276631, 6.711, 3.603, 2.774)
switchArray = []

[node name="Radar" parent="." instance=ExtResource("7_svoui")]
transform = Transform3D(1.71428, 0, 1.03017, 0, 2, 0, -1.03017, 0, 1.71428, -3.29512, -8.19494, -4.77058)

[node name="SteeringWheel" parent="." instance=ExtResource("9_16cqi")]
transform = Transform3D(1, 0, 0, 0, 0.95921, 0.282693, 0, -0.282693, 0.95921, 0.0221002, -3.1864, 4.2839)

[node name="PressureMeter" parent="." instance=ExtResource("10_c6tiw")]
unique_name_in_owner = true
transform = Transform3D(0.240472, 0.437553, 1.62503, 1.93203e-08, 1.64154, -0.441998, -1.68291, 0.0625224, 0.232202, -6.76614, 1.84123, 8.62311)

[node name="EmergencyButton" parent="." instance=ExtResource("10_4wdnr")]
transform = Transform3D(1.19249e-08, 0, -1, 0, 1, 0, 1, 0, 1.19249e-08, 7.88344, 2.0251, 5.32589)

[node name="Radio" parent="." instance=ExtResource("13_ix7dp")]
transform = Transform3D(0.505492, 0, 0.862831, 0, 1, 0, -0.862831, 0, 0.505492, -6.98238, -0.186038, 5.73886)

[node name="Window" parent="." instance=ExtResource("16_ja2uo")]
unique_name_in_owner = true
transform = Transform3D(1.2, 0, 0, 0, 1.2, 0, 0, 0, 1.2, 44.303, -8.781, 10.582)

[node name="DepthMeter" parent="." instance=ExtResource("13_drp40")]
unique_name_in_owner = true
transform = Transform3D(0.844328, 0, -0.535827, 0, 1, 0, 0.535827, 0, 0.844328, 1.6242, 1.58847, 1.23494)

[node name="Decoration" type="Node" parent="."]

[node name="Light" type="Node" parent="Decoration"]

[node name="Floor Lights" type="MeshInstance3D" parent="Decoration/Light"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0983148, 0.395397, -0.914792)
mesh = ExtResource("31_ynlvg")
skeleton = NodePath("../../..")
surface_material_override/0 = SubResource("StandardMaterial3D_7ui2s")

[node name="TopLight" parent="Decoration/Light" instance=ExtResource("32_lun3d")]
transform = Transform3D(-3.34849e-08, 2.80971e-08, 1, 0.642788, 0.766044, 0, -0.766044, 0.642788, -4.37114e-08, -4.869, 15.895, -5.7)

[node name="TopLight2" parent="Decoration/Light" instance=ExtResource("32_lun3d")]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -3.159, 20.584, -0.395)

[node name="TopLight3" parent="Decoration/Light" instance=ExtResource("32_lun3d")]
transform = Transform3D(-4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0, 1, 1.636, -12.936, 4.005)

[node name="Lamp" parent="Decoration/Light" instance=ExtResource("22_mta71")]
transform = Transform3D(0.414693, 0, -0.909961, 0, 1, 0, 0.909961, 0, 0.414693, 2.02893, 0, 1.60547)

[node name="SpotLight3D" type="SpotLight3D" parent="Decoration/Light"]
transform = Transform3D(0.887011, 0, 0.461749, 0, 1, 0, -0.461749, 0, 0.887011, -2.6254, 3.75882, 4.82641)
light_color = Color(0.988939, 0.921271, 0.864323, 1)
light_energy = 16.0
spot_range = 5.8493
spot_angle = 22.7338

[node name="Pipes" type="Node" parent="Decoration"]

[node name="pipe L long" parent="Decoration/Pipes" instance=ExtResource("23_b33d6")]
transform = Transform3D(1, 8.74228e-08, 8.74228e-08, 8.74228e-08, -1, 0, 8.74228e-08, 7.64274e-15, -1, 24.63, 10.196, 10.96)

[node name="HPipe" parent="Decoration/Pipes" instance=ExtResource("15_hgri2")]
transform = Transform3D(0.211325, 0, -0.977416, 0, 1, 0, 0.977416, 0, 0.211325, 2.419, -14.62, 23.24)

[node name="Pipe1" parent="Decoration/Pipes" instance=ExtResource("15_aupjh")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -9.17144, -20.9017, -15.0692)

[node name="Pipe2" parent="Decoration/Pipes" instance=ExtResource("15_aupjh")]
transform = Transform3D(2.40455e-08, 0.224951, 0.97437, 8.51821e-08, -0.97437, 0.224951, 1, 7.75899e-08, -4.25911e-08, -12.988, 21.957, 30.702)

[node name="1 round pipe deco" parent="Decoration/Pipes" instance=ExtResource("26_1vd2q")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.112602, 2.81683)

[node name="Paper" type="Node" parent="Decoration"]

[node name="paper_tv2" parent="Decoration/Paper" instance=ExtResource("15_7yk1y")]
transform = Transform3D(0.981293, 0, 0.192522, 0, 1, 0, -0.192522, 0, 0.981293, 11.1071, -13.3301, -1.08974)

[node name="paper_tv" parent="Decoration/Paper" instance=ExtResource("15_7yk1y")]
transform = Transform3D(0.899558, 0, -0.436802, 0, 1, 0, 0.436802, 0, 0.899558, 11.085, -13.945, 3.482)

[node name="paper_tv3" parent="Decoration/Paper" instance=ExtResource("15_7yk1y")]
transform = Transform3D(-0.121869, 0, 0.992546, 0, 1, 0, -0.992546, 0, -0.121869, -9.206, -13.945, -1.023)

[node name="paper_tv4" parent="Decoration/Paper" instance=ExtResource("15_7yk1y")]
transform = Transform3D(0.374607, 0, -0.927184, 0, 1, 0, 0.927184, 0, 0.374607, -0.357, -13.945, 5.407)

[node name="Wire" type="Node" parent="Decoration"]

[node name="wiredecoration variation3" parent="Decoration/Wire" instance=ExtResource("11_2og37")]
transform = Transform3D(0.6, 0, 0, 0, 0.6, 0, 0, 0, 0.6, -2.063, -5.084, 4.389)

[node name="wire deco left" parent="Decoration/Wire" instance=ExtResource("11_2og37")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.00261, 0.327853, 4.08865)

[node name="wire deco right" parent="Decoration/Wire" instance=ExtResource("12_esay2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.88519, -0.538068, 0.394241)

[node name="wiredecoration" parent="Decoration/Wire" instance=ExtResource("12_esay2")]
transform = Transform3D(-2.18557e-08, 0, 0.5, 0, 0.5, 0, -0.5, 0, -2.18557e-08, 4.18982, -4.74303, 4.77623)

[node name="wiredecoration variation2" parent="Decoration/Wire" instance=ExtResource("11_2og37")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -5.193, -0.311, 15.717)

[node name="Sticky Note" type="Node" parent="Decoration"]

[node name="sticky_note_radar" parent="Decoration/Sticky Note" instance=ExtResource("16_lxjki")]
transform = Transform3D(2.17589, 0, 1.23106, 0, 2.5, 0, -1.23106, 0, 2.17589, -6.769, -6.784, -8.568)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Decoration/Sticky Note/sticky_note_radar"]
transform = Transform3D(1, 0, -5.96046e-08, 0, 1, 0, 5.96046e-08, 0, 1, -1.06829, 3.27104, 3.95547)
mesh = SubResource("TextMesh_8heuw")

[node name="sticky_note_depth" parent="Decoration/Sticky Note" instance=ExtResource("16_lxjki")]
transform = Transform3D(1.6849, 0, -1.07754, 0, 2, 0, 1.07754, 0, 1.6849, 8.54977, -2.35162, -2.97856)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Decoration/Sticky Note/sticky_note_depth"]
transform = Transform3D(1, 0, -8.9407e-08, 0, 1, 0, 8.9407e-08, 0, 1, -1.05355, 3.27104, 3.97851)
mesh = SubResource("TextMesh_4c7rb")

[node name="sticky_note_pressure" parent="Decoration/Sticky Note" instance=ExtResource("17_tvvgt")]
transform = Transform3D(-8.74228e-08, 0, -2, 0, 2, 0, 2, 0, -8.74228e-08, 15.7311, -5.27568, 9.11279)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Decoration/Sticky Note/sticky_note_pressure"]
transform = Transform3D(1, 0, 0, 0, 0.99863, 0.052336, 0, -0.052336, 0.99863, -1.65961, 3.24989, 3.92976)
mesh = SubResource("TextMesh_0wdyb")

[node name="sticky_note_pressure_meter" parent="Decoration/Sticky Note" instance=ExtResource("17_tvvgt")]
transform = Transform3D(-8.74228e-08, 0, 2, 0, 2, 0, -2, 0, -8.74228e-08, -13.827, -4.98, 4.59)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Decoration/Sticky Note/sticky_note_pressure_meter"]
transform = Transform3D(1, 0, 0, 0, 0.99863, 0.052336, 0, -0.052336, 0.99863, -1.65961, 3.24989, 3.92976)
mesh = SubResource("TextMesh_qwoci")

[node name="Fish Container" type="Node" parent="Decoration"]

[node name="YellowFish" parent="Decoration/Fish Container" instance=ExtResource("21_qulxd")]
transform = Transform3D(-0.998278, 0, 0.0586618, 0, 1, 0, -0.0586618, 0, -0.998278, -8.77798, 4.0814, -3)

[node name="YellowFish2" parent="Decoration/Fish Container" instance=ExtResource("21_qulxd")]
transform = Transform3D(0.964262, 0.258819, -0.0566628, -0.258373, 0.965926, 0.0151828, 0.0586617, 0, 0.998278, 10.222, -1.9186, -1)

[node name="PinkFish" parent="Decoration/Fish Container" instance=ExtResource("27_lpl25")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 0.744475, -6)

[node name="PinkFish2" parent="Decoration/Fish Container" instance=ExtResource("27_lpl25")]
transform = Transform3D(0.968095, 0.228708, -0.1024, -0.227439, 0.973495, 0.0240573, 0.105188, 0, 0.994452, 8.54876, 3.95852, -6)

[node name="GreenFish" parent="Decoration/Fish Container" instance=ExtResource("23_qqgto")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.57707, 4.44168, -8.16588)
visible = false

[node name="BlueFish" parent="Decoration/Fish Container" instance=ExtResource("30_0gewv")]
transform = Transform3D(-0.999317, 0, 0.0369402, 0, 1, 0, -0.0369402, 0, -0.999317, -6.26594, 1.57653, -4.14288)

[node name="BlueFish2" parent="Decoration/Fish Container" instance=ExtResource("30_0gewv")]
transform = Transform3D(-0.999317, 0, 0.0369402, 0, 1, 0, -0.0369402, 0, -0.999317, -6.26594, 1.57653, -4.14288)

[connection signal="timeout" from="Managers/GameManager/Timer" to="Managers/GameManager" method="_on_timer_timeout"]
[connection signal="play_clicked" from="Menu/MainMenu" to="Managers/GameManager" method="start_game"]
[connection signal="component_failed" from="TV" to="Managers/GameManager" method="_on_tv_component_failed"]
[connection signal="component_failed" from="SwitchBoard3d" to="Managers/GameManager" method="_on_switch_board_3d_component_failed"]
[connection signal="component_failed" from="Radar" to="Managers/GameManager" method="_on_radar_component_failed"]
[connection signal="component_failed" from="SteeringWheel" to="Managers/GameManager" method="_on_steering_wheel_component_failed"]
[connection signal="steering_wheel_break" from="SteeringWheel" to="TV" method="_on_steering_wheel_steering_wheel_break"]
[connection signal="steering_wheel_fix" from="SteeringWheel" to="TV" method="_on_steering_wheel_steering_wheel_fix"]
[connection signal="component_failed" from="PressureMeter" to="Managers/GameManager" method="_on_pressure_meter_component_failed"]
[connection signal="emergency_btn_clicked" from="EmergencyButton" to="Managers/GameManager" method="_on_emergency_button_emergency_btn_clicked"]
[connection signal="component_failed" from="Radio" to="Managers/GameManager" method="_on_radio_component_failed"]
[connection signal="game_win" from="DepthMeter" to="Managers/GameManager" method="_on_depth_meter_game_win"]
